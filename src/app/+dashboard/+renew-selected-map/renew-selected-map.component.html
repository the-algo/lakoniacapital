<div id="content">
  <div class="row">
    <sa-big-breadcrumbs [items]="['Dashboard', 'Create Map']" icon="home" class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>
  </div>

  <div class="row">
    <div class="col-xs-10">
      <sa-widget color="darken">
        <!-- widget options:
        usage: <sa-widget [editbutton]="false">
      
        [colorbutton]="false"
        [editbutton]="false"
        [togglebutton]="false"
        [deletebutton]="false"
        [fullscreenbutton]="false"
        [custombutton]="false"
        [collapsed]="true"
        [sortable]="false"
      
        -->
        <header>
          <span class="widget-icon">
            <i class="fa fa-check"></i>
          </span>

          <h2>Renew Map</h2>

        </header>

        <!-- widget div-->
        <div>

          <!-- widget content -->
          <div class="widget-body">

            <div class="row">
              <form novalidate="novalidate">
                <div class="col-sm-12">
                  <div class="form-bootstrapWizard clearfix">
                    <ul class="bootstrapWizard">
                      <li *ngFor="let pane of steps; let i = index" [class.active]="activeStep == pane">
                        <!--                         <a (click)="setActiveStep(pane)"> -->
                        <span class="step">
                          <span *ngIf="!pane.checked">{{i + 1}}</span>
                          <i class="fa fa-check" *ngIf="pane.checked"></i>
                        </span>
                        <span class="title">{{pane.title}}</span>
                        <!--                         </a> -->
                      </li>
                    </ul>
                  </div>
                  <div class="tab-content">
                    <div class="tab-pane" [class.active]="activeStep.key == 'step1'">
                      <br>
                      <h3>
                        <strong>Step 1 </strong> - Subscription Details
                      </h3>
                      <br>
                      <div class="row" style="font-size: 18px; font-weight:bold">
                        <div class="col-xs-6">
                          Select subscription for
                        </div>
                        <div class="col-xs-3">
                          Period
                        </div>
                        <div class="col-xs-2">
                          Amount
                        </div>
                      </div>

                      <br>

                      <div class="row">
                        <div class="col-xs-6">
                          <section>
                            <span style="font-size:15px">Close-Ology Map</span>
                          </section>
                        </div>
                        <div class="col-xs-3">
                          <select class="form-control" name="period1" [(ngModel)]="model.subscriptionFor[0].period" (change)="changePrice('Map', model.subscriptionFor[0].period)">
                            <option value="0"></option>
                            <option value="1 Month">1 Month</option>
                            <option value="6 Months">6 Months</option>
                            <option value="1 Year">1 Year</option>
                          </select>
                        </div>

                        <div class="col-xs-1" style="text-align:right">
                          <span style="font-size:15px">{{ model.subscriptionFor[0].amount | currency:'USD' : true : '1.2-2' }}</span>
                        </div>
                      </div>

                      <br>

                      <div class="row">
                        <div class="col-xs-6">
                          <span style="font-size:15px">Hope-thetical Calculator</span>
                        </div>
                        <div class="col-xs-3">
                          <select class="form-control" name="period2" [(ngModel)]="model.subscriptionFor[1].period" (change)="changePrice('Hope', model.subscriptionFor[1].period)">
                            <option value="0"></option>
                            <option value="1 Month">1 Month</option>
                            <option value="6 Months">6 Months</option>
                            <option value="1 Year">1 Year</option>
                          </select>
                        </div>

                        <div class="col-xs-1" style="text-align:right">
                          <span style="font-size:15px">{{ model.subscriptionFor[1].amount | currency:'USD' : true : '1.2-2' }}</span>
                        </div>
                      </div>

                      <br>

                      <div class="row">
                        <div class="col-xs-6">
                          <span style="font-size:15px">Tax Effect Calculator</span>
                        </div>
                        <div class="col-xs-3">
                          <input type="checkbox" [(ngModel)]="model.subscriptionFor[2].status" name="period3" (change)="changePrice('Tax', model.subscriptionFor[2].period)">
                          <span style="font-size:15px">1 Year</span>
                        </div>

                        <div class="col-xs-1" style="text-align:right">
                          <span style="font-size:15px">{{ model.subscriptionFor[2].amount | currency:'USD' : true : '1.2-2' }}</span>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-xs-6">
                        </div>
                        <div class="col-xs-3">
                        </div>

                        <div class="col-xs-2">
                          <hr style="border: 1px solid black">
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-xs-6">

                        </div>
                        <div class="col-xs-3" style="text-align:right">
                          <span style="font-size:18px; font-weight: bold">TOTAL:</span>
                        </div>

                        <div class="col-xs-1" style="text-align:right">
                          <span style="font-size:15px; font-weight: bold">{{ model.total | currency:'USD' : true : '1.2-2' }}</span>
                        </div>
                      </div>

                    </div>
                    <!--                     
                    <div class="tab-pane" [class.active]="activeStep.key == 'step2'">
                      <br>

                      <h3>
                        <strong>Step 2</strong> - Map Details</h3>

                      <br>

                      <div class="row">
                        <div class="col-xs-6">
                          <div class="form-group">
                            <label for="location" style="font-weight:bold">Location Name:</label>
                            <input type="text" class="form-control" name="location" [(ngModel)]="model.location">
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-xs-3">
                          <div class="form-group">
                            <label for="location" style="font-weight:bold">Latitude:</label>
                            <input type="number" class="form-control" name="latitude" [(ngModel)]="model.latitude">
                          </div>
                        </div>

                        <div class="col-xs-3">
                          <div class="form-group">
                            <label for="location" style="font-weight:bold">Longitude:</label>
                            <input type="number" class="form-control" name="longitude" [(ngModel)]="model.longitude">
                          </div>
                        </div>
                      </div>
                    </div>
 -->
                    <div class="tab-pane" [class.active]="activeStep.key == 'step2'">
                      <br>

                      <h3>
                        <strong>Step 2</strong> - Confirm Details</h3>
                      <br>

                      <div class="row">
                        <div class="col-xs-12">
                          <div class="well">
                            <div class="row">
                              <div class="col-xs-10 list-group-item active">
                                <span class="map-header">Map Details</span>
                              </div>
                            </div>
                            <br>
                            <div class="row">
                              <div class="col-xs-7">
                                <div class="row">
                                  <div class="col-xs-4 header-map">Map Location:</div>
                                  <div class="col-xs-8 data-map">{{ model.location }}</div>
                                </div>
                              </div>
                            </div>
                            <br>
                            <div class="row">
                              <div class="col-xs-7">
                                <div class="row">
                                  <div class="col-xs-4 header-map">Latitude:</div>
                                  <div class="col-xs-8 data-map">{{ model.latitude }}</div>
                                </div>
                              </div>
                            </div>
                            <br>
                            <div class="row">
                              <div class="col-xs-7">
                                <div class="row">
                                  <div class="col-xs-4 header-map">Longitude:</div>
                                  <div class="col-xs-8 data-map">{{ model.longitude }}</div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <br>
                          <div class="well">
                            <div class="row">
                              <div class="col-xs-10 list-group-item active">
                                <span class="map-header">Subscription Details</span>
                              </div>
                            </div>
                            <br>
                            <div class="row">
                              <div class="col-xs-10">
                                <table class="table">
                                  <thead>
                                    <tr style="font-size: medium; background: #3a3633; color: silver">
                                      <th>Subscription For</th>
                                      <th>Period</th>
                                      <th>Amount</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr style="font-size: 15px" *ngFor="let item of model.subscriptionFor; let i = index">
                                      <td *ngIf="item.status">{{ item.type }}</td>
                                      <td *ngIf="item.status">{{ item.period }}</td>
                                      <td *ngIf="item.status" style="text-align:right; width: 75px">{{ item.amount | currency:'USD' : true : '1.2-2' }}</td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane" [class.active]="activeStep.key == 'step3'">
                      <br>

                      <h3>
                        <strong>Step 4</strong> - Payment</h3>

                      <div class="row">
                        <div class="col-xs-offset-3 col-xs-6">
                          <img width="100%" height="100px" src="assets/img/cards.png" alt="Cards" class="image-responsive">
                        </div>
                      </div>

                      <br>

                      <div class="row" *ngIf="!status">
                        <!-- <form [formGroup]="paymentForm"> -->
                        <div class="col-xs-12">
                          <div class="row">
                            <div class="col-xs-2">
                              Select Card Type:
                            </div>
                            <div class="col-xs-4" style="min-height: 45px">
                              <select class="form-control" name="period2" [(ngModel)]="model.paymentDetails.cardType" (change)="onCardSelected()">
                                <option value="0" selected></option>
                                <option value="AmericanExpress">American Express</option>
                                <option value="Mastercard">MasterCard</option>
                                <option value="Maestrocard">Maestro</option>
                                <option value="Visa">Visa</option>
                              </select>
                            </div>
                            <div class="col-xs-4" *ngIf="!cardStatus">
                              <span style="color:red">Please select card type</span>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-xs-2">
                              Card No:
                            </div>
                            <div class="col-xs-4" style="min-height: 45px">
                              <input (keypress)="numbersOnly($event)" type="text" [minlength]="minLength" [maxlength]="maxLength" class="form-control"
                                name="cardNo" [(ngModel)]="model.paymentDetails.cardNo">
                            </div>
                            <div class="col-xs-4" *ngIf="!cardNoStatus">
                              <div class="col-xs-4" *ngIf="!cardNoStatus">
                                <span style="color:red" *ngIf="minLength === maxLength">Please enter Card No of {{ maxLength }}</span>
                                <span style="color:red" *ngIf="minLength !== maxLength">Please enter Card No between {{ minLength }} and {{ maxLength }}</span>
                              </div>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-xs-2">
                              Expiration Date:
                            </div>
                            <div class="col-xs-2" style="min-height: 45px">
                              <select class="form-control" name="selectedMonth" [(ngModel)]="selectedMonth" (change)="selectedExpirationDate()">
                                <option value="0" selected></option>
                                <option value="01">January</option>
                                <option value="02">February</option>
                                <option value="03">March</option>
                                <option value="04">April</option>
                                <option value="05">May</option>
                                <option value="06">June</option>
                                <option value="07">July</option>
                                <option value="08">August</option>
                                <option value="09">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                              </select>
                            </div>

                            <div class="col-xs-2" style="min-height: 45px">
                              <select class="form-control" name="selectedYear" [(ngModel)]="selectedYear" (change)="selectedExpirationDate()">
                                <option value="0" selected></option>
                                <option *ngFor="let year of years" [value]="year">{{ year }}</option>
                              </select>
                            </div>
                            <div class="col-xs-4" *ngIf="!expirationDateStatus">
                              <span style="color:red">Please select month and year</span>
                            </div>
                          </div>


                          <div class="row">
                            <div class="col-xs-2">
                              Card Holder Name:
                            </div>
                            <div class="col-xs-4" style="min-height: 45px">
                              <input (keypress)="lettersOnly($event)" type="text" class="form-control" name="cardHolderName" [(ngModel)]="model.paymentDetails.cardHolderName">
                            </div>
                            <div class="col-xs-4" *ngIf="!cardholderNameStatus">
                              <span style="color:red">Please enter Cardholder Name</span>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-xs-2">
                              Security Code:
                            </div>
                            <div class="col-xs-4" style="min-height: 45px">
                              <input (keypress)="numbersOnly($event)" minlength="3" maxlength="4" type="password" class="form-control" name="securityCode"
                                [(ngModel)]="model.paymentDetails.securityCode">
                            </div>
                            <div class="col-xs-4" *ngIf="!securityCodeStatus">
                              <span style="color:red">Please enter Security Code</span>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-xs-offset-2 col-xs-2" style="min-height: 45px">
                              <button style="font-size:15px; font-weight: bold" class="btn btn-success" (click)="onClickSave()">Pay {{ model.total | currency:'USD' : true : '1.2-2' }}</button>
                            </div>
                          </div>
                        </div>
                        <!--                         </form> -->
                      </div>


                      <div class="row" *ngIf="status">
                        <div class="col-xs-12">
                          <h1 class="text-center text-success">
                            <strong>
                              <i class="fa fa-check fa-lg"></i> Completed</strong>
                          </h1>
                          <h4 class="text-center">Click next to finish</h4>
                          <br>
                          <br>
                        </div>
                      </div>

                    </div>

                    <div class="form-actions">
                      <div class="row">
                        <div class="col-sm-12">
                          <ul class="pager wizard no-margin">
                            <li class="previous">
                              <a (click)="prevStep()" [class.disabled]="steps.indexOf(activeStep) == 0" class="btn btn-lg btn-default">
                                Previous
                              </a>
                            </li>
                            <li class="next">
                              <!--                               <a (click)="nextStep()" [class.disabled]="activeStep.submitted && !activeStep.valid" class="btn btn-lg txt-color-darken">
                                Next
                              </a> -->

                              <a (click)="nextStep()" [class.disabled]="!nextBtnStatus" class="btn btn-lg txt-color-darken">
                                Next
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </form>
            </div>

          </div>
          <!-- end widget content -->

        </div>
        <!-- end widget div -->

      </sa-widget>
    </div>
  </div>


</div>